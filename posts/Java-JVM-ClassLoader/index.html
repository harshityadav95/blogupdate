<!DOCTYPE html><html lang="en" data-mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="JVM Class Loader Notes" /><meta name="author" content="Harshit Yadav" /><meta property="og:locale" content="en" /><meta name="description" content="Class Loader in Java: Notes" /><meta property="og:description" content="Class Loader in Java: Notes" /><link rel="canonical" href="https://harshityadav95.github.io/posts/Java-JVM-ClassLoader/" /><meta property="og:url" content="https://harshityadav95.github.io/posts/Java-JVM-ClassLoader/" /><meta property="og:site_name" content="Harshit Yadav" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-01-02T02:30:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="JVM Class Loader Notes" /><meta name="twitter:site" content="@harshityadav95" /><meta name="twitter:creator" content="@Harshit Yadav" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Harshit Yadav"},"dateModified":"2023-01-02T02:30:00+08:00","datePublished":"2023-01-02T02:30:00+08:00","description":"Class Loader in Java: Notes","headline":"JVM Class Loader Notes","mainEntityOfPage":{"@type":"WebPage","@id":"https://harshityadav95.github.io/posts/Java-JVM-ClassLoader/"},"url":"https://harshityadav95.github.io/posts/Java-JVM-ClassLoader/"}</script><title>JVM Class Loader Notes | Harshit Yadav</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Harshit Yadav"><meta name="application-name" content="Harshit Yadav"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://avatars.githubusercontent.com/u/14792490?v=4" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">Harshit Yadav</a></div><div class="site-subtitle font-italic">End of Line</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/harshityadav95" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/harshityadav95" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['harshityadav','outlook.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="https://stackoverflow.com/users/5006393/harshityadav95" aria-label="stack-overflow" > <i class="fab fa-stack-overflow"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>JVM Class Loader Notes</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>JVM Class Loader Notes</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1672597800" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jan 2, 2023 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href=""></a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1895 words"> <em>10 min</em> read</span></div></div></div><div class="post-content"><h1 id="class-loader-in-java-notes">Class Loader in Java: Notes</h1><p><a href="https://raw.githubusercontent.com/harshityadav95/staticfiles/main/Class%20Loader%20in%20Java%20Notes/Untitled.png" class="popup img-link "><img data-src="https://raw.githubusercontent.com/harshityadav95/staticfiles/main/Class%20Loader%20in%20Java%20Notes/Untitled.png" alt="Untitled" class="lazyload" data-proofer-ignore></a></p><p>The Java ClassLoader is a part of the Java Runtime Environment that dynamically loads Java classes into the Java Virtual Machine.</p><p>JVM doesn’t need to know about the underlying files or file systems in order to run Java programs thanks to class loaders.</p><ul><li>Java ClassLoader is an abstract class<li>It belongs to a java.lang package<li>It loads classes from different resources.<li>Java ClassLoader is used to load the classes at run time.</ul><p>Java classes aren’t loaded into memory all at once, but when required by an application. At this point, the <strong>Java ClassLoader is called by the JRE,</strong> and these ClassLoaders load classes into memory dynamically.</p><ul><li>When we request to load a class, it delegates the class to its parent.<li>In this way, uniqueness is maintained in the runtime environment. It is essential to execute a Java program.</ul><p><a href="https://raw.githubusercontent.com/harshityadav95/staticfiles/main/Class%20Loader%20in%20Java%20Notes/Untitled%201.png" class="popup img-link "><img data-src="https://raw.githubusercontent.com/harshityadav95/staticfiles/main/Class%20Loader%20in%20Java%20Notes/Untitled%201.png" alt="Untitled" class="lazyload" data-proofer-ignore></a></p><p>Java ClassLoader is based on three principles: <strong>Delegation</strong>, <strong>Visibility</strong>, and <strong>Uniqueness</strong>.</p><ul><li><strong>Delegation principle:</strong> It forwards the request for class loading to parent class loader. It only loads the class if the parent does not find or load the class.<li><strong>Visibility principle:</strong> It allows child class loader to see all the classes loaded by parent ClassLoader. But the parent class loader cannot see classes loaded by the child class loader.<li><strong>Uniqueness principle:</strong> It allows to load a class once. It is achieved by delegation principle. It ensures that child ClassLoader doesn’t reload the class, which is already loaded by the parent.</ul><h2 id="when-classes-are-loaded"><span class="mr-2">When classes are loaded</span><a href="#when-classes-are-loaded" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>There are only two cases:</p><ul><li>When the new byte code is executed.<li>When the byte code makes a static reference to a class. For example, <strong>System.out</strong>.</ul><h1 id="static-vs-dynamic-class-loading">Static vs. Dynamic Class Loading</h1><ul><li>Classes are statically loaded with “new” operator.<li>Dynamic class loading invokes the functions of a class loader at run time by using Class.forName() method.</ul><h1 id="types-of-classloader">Types of ClassLoader</h1><p>In Java, every ClassLoader has a predefined location from where they load class files. There are following types of ClassLoader in Java:</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Demo</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Demo World"</span><span class="o">);</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Classloader of ArrayList:"</span>
                <span class="o">+</span> <span class="nc">ArrayList</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getClassLoader</span><span class="o">());</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Classloader of Demo:"</span>
                <span class="o">+</span> <span class="nc">Demo</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getClassLoader</span><span class="o">());</span>

    <span class="o">}</span>

<span class="o">}</span>
</pre></table></code></div></div><p>As we can see, there are three different class loaders here: application, extension, and bootstrap (displayed as null).</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nc">Class</span> <span class="n">loader</span> <span class="n">of</span> <span class="k">this</span> <span class="kd">class</span><span class="err">:</span><span class="nc">sun</span><span class="o">.</span><span class="na">misc</span><span class="o">.</span><span class="na">Launcher</span><span class="n">$AppClassLoader</span><span class="err">@</span><span class="mi">18</span><span class="n">b4aac2</span>
<span class="nc">Class</span> <span class="n">loader</span> <span class="n">of</span> <span class="nl">Logging:</span><span class="n">sun</span><span class="o">.</span><span class="na">misc</span><span class="o">.</span><span class="na">Launcher</span><span class="n">$ExtClassLoader</span><span class="err">@</span><span class="mi">3</span><span class="n">caeaf62</span>
<span class="nc">Class</span> <span class="n">loader</span> <span class="n">of</span> <span class="nl">ArrayList:</span><span class="kc">null</span>
</pre></table></code></div></div><ul><li>The application class loader loads the class where the example method is contained. <strong>An application or system class loader loads our own files in the classpath.</strong><li>Next, the extension class loader loads the <em>Logging</em> class. <strong>Extension class loaders load classes that are an extension of the standard core Java classes.</strong><li>Finally, the bootstrap class loader loads the <em>ArrayList</em> class. <strong>A bootstrap or primordial class loader is the parent of all the others.</strong></ul><p>However, we can see that for the ArrayList, it displays null in the output. This is because the <strong>bootstrap class loader is written in native code</strong>, not Java, so it doesn’t show up as a Java class.</p><p>As a result, the behavior of the bootstrap class loader will differ across JVMs.</p><p><a href="https://raw.githubusercontent.com/harshityadav95/staticfiles/main/Class%20Loader%20in%20Java%20Notes/Untitled%202.png" class="popup img-link "><img data-src="https://raw.githubusercontent.com/harshityadav95/staticfiles/main/Class%20Loader%20in%20Java%20Notes/Untitled%202.png" alt="Untitled" class="lazyload" data-proofer-ignore></a></p><h2 id="1-bootstrap-class-loader"><span class="mr-2">1. <strong>Bootstrap Class Loader:</strong></span><a href="#1-bootstrap-class-loader" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>The bootstrap class loader is rigidly defined in the JVM and loads class files according to the specification.<li>First, the Java Virtual Machine determines whether the bootstrap class loader has already been recorded as an initiating loader of a class or interface<li>Java Virtual Machine passes the argument N to an invocation of a method on the bootstrap class loader to search for a purported representation of Class in a platform-dependent manner.<li>a class or interface will be represented using a file in a hierarchical file system, and the name of the class or interface will be encoded in the pathname of the file.<li><strong>If no purported representation of C is found, loading throws an instance of <code class="language-plaintext highlighter-rouge">ClassNotFoundException</code>.</strong><li>It loads standard JDK class files from rt.jar and other core classes.<li><strong>It is a parent of all class loaders.</strong><li>It doesn’t have any parent. When we call String.class.getClassLoader() it returns null, and any code based on it throws NullPointerException.<li><p>question is, who loads the java.lang.ClassLoader itself? <em>**</em></p><p><strong>This is where the bootstrap or primordial class loader comes into play.</strong></p><li>It is also called Primordial ClassLoader. It loads class files from jre/lib/rt.jar. For example, java.lang package class.<li><strong>This bootstrap class loader is part of the core JVM and is written in native code,</strong></ul><h2 id="2-extensions-class-loader"><span class="mr-2">2. <strong>Extensions Class Loader:</strong></span><a href="#2-extensions-class-loader" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>The extension class loader is a child of the bootstrap class loader, and takes care of loading the extensions of the standard core Java classes so that they’re available to all applications running on the platform.<li>It delegates class loading request to its parent. If the loading of a class is unsuccessful, it loads classes from jre/lib/ext directory or any other directory as java.ext.dirs.<li>The extension class loader loads from the JDK extensions directory, usually the $JAVA_HOME/lib/ext directory, or any other directory mentioned in the java.ext.dirs system property.<li>It is implemented by sun.misc.Launcher$ExtClassLoader in JVM.</ul><h2 id="3-system-class-loader"><span class="mr-2">3. <strong>System Class Loader:</strong></span><a href="#3-system-class-loader" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>It loads application specific classes from the CLASSPATH environment variable.<li>It can be set while invoking program using -cp or classpath command line options.<li>It’s also a child of the extensions class loader.<li>It is a child of Extension ClassLoader. It is implemented by sun.misc.Launcher$AppClassLoader class.<li>All Java ClassLoader implements java.lang.ClassLoader.</ul><h1 id="how-classloader-works-in-java">How ClassLoader works in Java</h1><ul><li>Class loaders are part of the Java Runtime Environment.<li>When the JVM requests a class, the class loader tries to locate the class and load the class definition into the runtime using the <strong>fully qualified class name</strong>.<li>When JVM request for a class, it invokes a loadClass() method of the java.lang.ClassLoader class by passing the fully classified name of the class. The loadClass() method calls for findLoadedClass() method to check that the class has been already loaded or not.<li>It is required to avoid loading the class multiple times.<li>If the class is already loaded, it delegates the request to parent ClassLoader to load the class.<li>If the ClassLoader is not finding the class, it invokes the findClass() method to look for the classes in the file system.</ul><p>The following diagram shows how ClassLoader loads class in Java using delegation.</p><p><a href="https://raw.githubusercontent.com/harshityadav95/staticfiles/main/Class%20Loader%20in%20Java%20Notes/Untitled%203.png" class="popup img-link "><img data-src="https://raw.githubusercontent.com/harshityadav95/staticfiles/main/Class%20Loader%20in%20Java%20Notes/Untitled%203.png" alt="Untitled" class="lazyload" data-proofer-ignore></a></p><h3 id="example-of-class-loader-working"><span class="mr-2">Example of Class Loader Working</span><a href="#example-of-class-loader-working" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Suppose that we have an application-specific class Demo.class.</p><ol><li>The request for loading of this class files transfers to Application ClassLoader.<li>It delegates to its parent Extension ClassLoader.<li>Further, it delegates to Bootstrap ClassLoader. Bootstrap search that class in rt.jar and since that class is not there.<li>Now request transfer to Extension ClassLoader which searches for the directory jre/lib/ext and tries to locate this class there.<li>If the class is found there, Extension ClassLoader loads that class. Application ClassLoader never loads that class. When the extension ClassLoader does not load it, then Application ClaasLoader loads it from CLASSPATH in Java.</ol><p>Visibility principle states that child ClassLoader can see the class loaded by the parent ClassLoader, <strong>but vice versa is not true.</strong></p><ul><li>It means if Application ClassLoader loads Demo.class, in such case, trying to load Demo.class explicitly using Extension ClassLoader throws java.lang.ClassNotFoundException.</ul><p>According to the uniqueness principle, a class loaded by the parent should not be loaded by Child ClassLoader again. So, it is possible to write class loader which violates delegation and uniqueness principles and loads class by itself.</p><p>In short, class loader follows the following rule:</p><ul><li>It checks if the class is already loaded.<li>If the class is not loaded, ask parent class loader to load the class.<li>If the parent class loader cannot load class, attempt to load it in this class loader.</ul><h3 id="code-example-"><span class="mr-2">Code Example :</span><a href="#code-example-" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>create a file classloader.java</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">Demo</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Demo World"</span><span class="o">);</span>

    <span class="o">}</span>

<span class="o">}</span>
</pre></table></code></div></div><p>Compile the code using</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="err">$</span> <span class="n">javac</span> <span class="n">classloader</span><span class="o">.</span><span class="na">java</span>
<span class="err">$</span> <span class="n">java</span> <span class="o">-</span><span class="nl">verbose:</span><span class="kd">class</span> <span class="nc">Demo</span>

<span class="err">#</span> <span class="o">-</span><span class="nl">verbose:</span><span class="kd">class</span><span class="err">:</span> <span class="nc">It</span> <span class="n">is</span> <span class="n">used</span> <span class="n">to</span> <span class="n">display</span> <span class="n">the</span> <span class="n">information</span> <span class="n">about</span> <span class="n">classes</span> <span class="n">being</span> <span class="n">loaded</span> <span class="n">by</span> <span class="no">JVM</span><span class="o">.</span> <span class="nc">It</span> <span class="n">is</span> <span class="n">useful</span> <span class="n">when</span> <span class="n">using</span> <span class="kd">class</span> <span class="nc">loader</span> <span class="k">for</span> <span class="n">loading</span> <span class="n">classes</span> <span class="n">dynamically</span><span class="o">.</span> <span class="nc">The</span> <span class="n">following</span> <span class="n">figure</span> <span class="n">shows</span> <span class="n">the</span> <span class="n">output</span><span class="o">.</span>
</pre></table></code></div></div><ul><li>We can observe that runtime classes required by the application class (Demo) are loaded first.</ul><h2 id="methods-of-javalangclassloader"><span class="mr-2"><strong>Methods of Java.lang.ClassLoader</strong></span><a href="#methods-of-javalangclassloader" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><a href="https://www.geeksforgeeks.org/classloader-in-java/">https://www.geeksforgeeks.org/classloader-in-java/</a></ul><h2 id="custom-class-loader-use-cases"><span class="mr-2">Custom Class Loader Use-Cases</span><a href="#custom-class-loader-use-cases" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Custom class loaders are helpful for more than just loading the class during runtime. A few use cases might include:</p><ol><li>Helping to modify the existing bytecode, e.g. weaving agents<li>Creating classes dynamically suited to the user’s needs, e.g. in JDBC, switching between different driver implementations is done through dynamic class loading.<li>Implementing a class versioning mechanism while loading different bytecodes for classes with the same names and packages. <strong>This can be done either through a URL class loader (load jars via URLs) or custom class loaders.</strong><ul><li>Creating Custom Class Loader <a href="https://www.baeldung.com/java-classloaders#2-creating-our-custom-class-loader">Example</a><li>It is open for vendor-specific implementation and can custom load classes via the <em>java.lang.Class</em> instance.<li>Every user-defined class loader is an instance of a subclass of the abstract class ClassLoader.<li>Applications employ user-defined class loaders in order to extend the manner in which the Java Virtual Machine dynamically loads and thereby creates classes.<li>User-defined class loaders can be used to create classes that originate from user-defined sources.<li>For example, <strong>a class could be downloaded across a network, generated</strong> on the fly, or extracted from an encrypted file.</ul></ol><p>I<strong>f the class loader <code class="language-plaintext highlighter-rouge">L</code> is unable to load a class or interface denoted by <code class="language-plaintext highlighter-rouge">N</code> for any reason, it must throw an instance of <code class="language-plaintext highlighter-rouge">ClassNotFoundException</code>.</strong></p><ul><li>At run time, a class or interface is determined not by its name alone, but by a pair: <a href="https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.2.1">its binary name</a> + and its defining class loader.<li>For example, the normal binary name of class Thread is java.lang.Thread. In the internal form used in descriptors in the class file format, a reference to the name of class Thread is implemented using a CONSTANT_Utf8_info structure representing the string java/lang/Thread.<li>Each such class or interface belongs to a single <em>run-time package</em><li>The run-time package of a class or interface is determined by the package name and defining class loader of the class or interface.<li><strong>If an error occurs during class loading, then an instance of a subclass of <code class="language-plaintext highlighter-rouge">LinkageError</code> must be thrown at a point in the program that (directly or indirectly) uses the class or interface being loaded.</strong></ul><h2 id="context-classloaders"><span class="mr-2"><strong>**Context Classloaders</strong>**</span><a href="#context-classloaders" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>However, sometimes when JVM core classes need to dynamically load classes or resources provided by application developers, we might encounter a problem.</p><p>For example, in JNDI,(<strong>Java Naming and Directory Interface</strong>) the core functionality is implemented by the bootstrap classes in <em>rt.jar.</em> </p><ul><li>But these JNDI classes may load JNDI providers implemented by independent vendors (deployed in the application classpath).<li>This scenario calls for the bootstrap class loader (parent class loader) to load a class visible to the application loader (child class loader).<li>The java.lang.Thread class has a method, getContextClassLoader(), that returns the ContextClassLoader for the particular thread. The ContextClassLoader is provided by the creator of the thread when loading resources and classes.</ul><p><strong>J2SE delegation doesn’t work here, and to get around this problem, we need to find alternative ways of class loading. This can be achieved using thread context loaders.</strong></p><h1 id="difference-between-loadclass-and-classforname">Difference between loadClass() and Class.forName()</h1><ul><li>The loadClass() method loads only the class but does not initialize the object. While Class.forName() method initialize the object after loading it. For example, if you are using ClassLoader.loadClass() to load the JDBC driver, class loader does not allow to load JDBC driver.<li>The java.lang.Class.forName() method returns the Class Object coupled with the class or interfaces with the given string name. It throws ClassNotFoundException if the class is not found.</ul><h2 id="reference"><span class="mr-2">Reference</span><a href="#reference" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><a href="https://www.javatpoint.com/classloader-in-java">https://www.javatpoint.com/classloader-in-java</a><li><a href="https://www.baeldung.com/java-classloaders">https://www.baeldung.com/java-classloaders</a><li><a href="https://www.geeksforgeeks.org/classloader-in-java/">https://www.geeksforgeeks.org/classloader-in-java/</a><li><a href="https://www.baeldung.com/java-classloaders#context-classloaders">https://www.baeldung.com/java-classloaders#context-classloaders</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/java/'>java</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a> <a href="/tags/jvm/" class="post-tag no-text-decoration" >jvm</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=JVM%20Class%20Loader%20Notes%20-%20Harshit%20Yadav&url=https%3A%2F%2Fharshityadav95.github.io%2Fposts%2FJava-JVM-ClassLoader%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=JVM%20Class%20Loader%20Notes%20-%20Harshit%20Yadav&u=https%3A%2F%2Fharshityadav95.github.io%2Fposts%2FJava-JVM-ClassLoader%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fharshityadav95.github.io%2Fposts%2FJava-JVM-ClassLoader%2F&text=JVM%20Class%20Loader%20Notes%20-%20Harshit%20Yadav" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/iPhone-in-India-2023/">iPhone in India 2023</a><li><a href="/posts/Java-Revision-Topic-Sets/">Java Revision Topic Sets</a><li><a href="/posts/Event-Women-Techmaker-2023/">Event Women Techmaker 2023</a><li><a href="/posts/Books-I-Read-in-2021/">Books I Read in 2021</a><li><a href="/posts/Load-Balancing-Layer-4-vs-Layer-7/">Load Balancing Layer 4 vs Layer 7</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/personal/">personal</a> <a class="post-tag" href="/tags/blogging/">Blogging</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/web-development/">Web Development</a> <a class="post-tag" href="/tags/bloger/">Bloger</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/webdevelopment/">webdevelopment</a> <a class="post-tag" href="/tags/backend-development/">Backend Development</a> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/database/">Database</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Deployment-Types/"><div class="card-body"> <em class="small" data-ts="1684261800" data-df="ll" > May 17, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Notes Deployment Strategies</h3><div class="text-muted small"><p> Source {% include embed/youtube.html id=’AWVTKBUnoIg’ %} TLDR; Big Bang Deployment Big Bang deployment is a software release approach where the entire system is deployed in one go, replaci...</p></div></div></a></div><div class="card"> <a href="/posts/iPhone-in-India-2023/"><div class="card-body"> <em class="small" data-ts="1684175400" data-df="ll" > May 16, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>iPhone in India 2023</h3><div class="text-muted small"><p> One small post for the biggest tech fanboy moment Android vs iOS First 10 days Usage iOS Shortcoming : iPhones do not support the 4G Volte carrier Video Calling service in India The NFC in...</p></div></div></a></div><div class="card"> <a href="/posts/Event-Women-Techmaker-2023/"><div class="card-body"> <em class="small" data-ts="1678213800" data-df="ll" > Mar 8, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Event Women Techmaker 2023</h3><div class="text-muted small"><p> Event: Women TechMaker 2023 {% include embed/youtube.html id=’8T0fgmZR94g’ %} Program Links Google Accelerator for Startups Women Developer Academy Conference LiveStream {% include embed...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Java-Revision-Topic-Sets/" class="btn btn-outline-primary" prompt="Older"><p>Java Revision Topic Sets</p></a> <a href="/posts/DNS-Domain-Name-Server/" class="btn btn-outline-primary" prompt="Newer"><p>DNS Domain Name Server Notes</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://harshityadav95.github.io/posts/Java-JVM-ClassLoader/'; this.page.identifier = '/posts/Java-JVM-ClassLoader/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://harshityadav95.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { window.addEventListener("message", reloadDisqus); } </script></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/personal/">personal</a> <a class="post-tag" href="/tags/blogging/">Blogging</a> <a class="post-tag" href="/tags/network/">Network</a> <a class="post-tag" href="/tags/web-development/">Web Development</a> <a class="post-tag" href="/tags/bloger/">Bloger</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/webdevelopment/">webdevelopment</a> <a class="post-tag" href="/tags/backend-development/">Backend Development</a> <a class="post-tag" href="/tags/azure/">Azure</a> <a class="post-tag" href="/tags/database/">Database</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/harshityadav95">Harshit Yadav</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0">Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-7RS3HK09CR"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-7RS3HK09CR'); }); </script>
